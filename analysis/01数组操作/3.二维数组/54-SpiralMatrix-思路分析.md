# 54. èºæ—‹çŸ©é˜µ

## ğŸ“‹ é¢˜ç›®ä¿¡æ¯
- **éš¾åº¦**ï¼šMedium
- **æ ‡ç­¾**ï¼šæ•°ç»„ã€çŸ©é˜µã€æ¨¡æ‹Ÿ
- **æ¥æº**ï¼šLeetCode 54

---

## ğŸ“– é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ª `m` è¡Œ `n` åˆ—çš„çŸ©é˜µ `matrix`ï¼Œè¯·æŒ‰ç…§**é¡ºæ—¶é’ˆèºæ—‹é¡ºåº**ï¼Œè¿”å›çŸ©é˜µä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚

### ç¤ºä¾‹

**ç¤ºä¾‹ 1ï¼š**
```
è¾“å…¥ï¼šmatrix = [[1,2,3],[4,5,6],[7,8,9]]
è¾“å‡ºï¼š[1,2,3,6,9,8,7,4,5]
```

**ç¤ºä¾‹ 2ï¼š**
```
è¾“å…¥ï¼šmatrix = [[1,2,3,4],[5,6,7,8],[9,10,11,12]]
è¾“å‡ºï¼š[1,2,3,4,8,12,11,10,9,5,6,7]
```

### çº¦æŸæ¡ä»¶

- `m == matrix.length`
- `n == matrix[i].length`
- `1 <= m, n <= 10`
- `-100 <= matrix[i][j] <= 100`

---

## ğŸ¤” é¢˜ç›®åˆ†æ

### é—®é¢˜ç†è§£

ç”¨è‡ªå·±çš„è¯æè¿°ï¼šç»™å®šä¸€ä¸ªäºŒç»´çŸ©é˜µï¼Œè¦æ±‚æŒ‰ç…§"é¡ºæ—¶é’ˆèºæ—‹"çš„é¡ºåºä¾æ¬¡è¯»å–æ‰€æœ‰å…ƒç´ ï¼Œå¹¶ä»¥ä¸€ç»´åˆ—è¡¨çš„å½¢å¼è¿”å›ã€‚

æ‰€è°“"é¡ºæ—¶é’ˆèºæ—‹"ï¼Œå°±æ˜¯ä»çŸ©é˜µå·¦ä¸Šè§’å‡ºå‘ï¼Œå…ˆå‘å³èµ°å®Œç¬¬ä¸€è¡Œï¼Œå†å‘ä¸‹èµ°å®Œæœ€åä¸€åˆ—ï¼Œå†å‘å·¦èµ°å®Œæœ€åä¸€è¡Œï¼Œå†å‘ä¸Šèµ°å®Œç¬¬ä¸€åˆ—ï¼Œç„¶åç¼©å°èŒƒå›´ï¼Œç»§ç»­å¯¹å†…å±‚çŸ©é˜µé‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ éƒ½è¢«è®¿é—®ã€‚

**å…³é”®ç‚¹ï¼š**
- éå†æ–¹å‘å›ºå®šä¸ºï¼šå³ â†’ ä¸‹ â†’ å·¦ â†’ ä¸Šï¼Œå¾ªç¯å¾€å¤
- æ¯èµ°å®Œä¸€ä¸ªæ–¹å‘ï¼Œå¯¹åº”çš„è¾¹ç•Œå°±è¦æ”¶ç¼©ä¸€æ ¼
- éœ€è¦åˆ¤æ–­ä½•æ—¶åœæ­¢ï¼ˆå·²æ”¶é›†æ‰€æœ‰ mÃ—n ä¸ªå…ƒç´ ï¼‰

### å…³é”®è§‚å¯Ÿ

1. **è¾¹ç•Œæ”¶ç¼©è§„å¾‹**ï¼š
   - å‘å³èµ°å®Œä¸€è¡Œåï¼Œä¸Šè¾¹ç•Œ `top` ä¸‹ç§»ä¸€è¡Œï¼ˆ`top += 1`ï¼‰
   - å‘ä¸‹èµ°å®Œä¸€åˆ—åï¼Œå³è¾¹ç•Œ `right` å·¦ç§»ä¸€åˆ—ï¼ˆ`right -= 1`ï¼‰
   - å‘å·¦èµ°å®Œä¸€è¡Œåï¼Œä¸‹è¾¹ç•Œ `bottom` ä¸Šç§»ä¸€è¡Œï¼ˆ`bottom -= 1`ï¼‰
   - å‘ä¸Šèµ°å®Œä¸€åˆ—åï¼Œå·¦è¾¹ç•Œ `left` å³ç§»ä¸€åˆ—ï¼ˆ`left += 1`ï¼‰

2. **ç»ˆæ­¢æ¡ä»¶**ï¼šå½“ `left > right` æˆ– `top > bottom` æ—¶ï¼Œè¯´æ˜æ‰€æœ‰å…ƒç´ å·²è¢«è®¿é—®å®Œæ¯•ã€‚

3. **çŸ©å½¢ä¸ä¸€å®šæ˜¯æ­£æ–¹å½¢**ï¼šéœ€è¦åœ¨å‘å·¦å’Œå‘ä¸Šéå†æ—¶é¢å¤–åˆ¤æ–­è¾¹ç•Œæ˜¯å¦ä»ç„¶æœ‰æ•ˆï¼Œé¿å…é‡å¤éå†å•è¡Œæˆ–å•åˆ—ã€‚

4. **é¢˜ç›®è§„æ¨¡**ï¼š`m, n <= 10`ï¼ŒçŸ©é˜µæœ€å¤š 100 ä¸ªå…ƒç´ ï¼Œä»»ä½•åˆç†ç®—æ³•éƒ½èƒ½é€šè¿‡ï¼Œé‡ç‚¹åœ¨äºé€»è¾‘çš„æ­£ç¡®æ€§ã€‚

### é¢˜ç›®ç±»å‹è¯†åˆ«

- **æ•°æ®ç»“æ„**ï¼šäºŒç»´æ•°ç»„ï¼ˆçŸ©é˜µï¼‰
- **ç®—æ³•æ€æƒ³**ï¼šæ¨¡æ‹Ÿï¼ˆSimulationï¼‰
- **æ ¸å¿ƒæŠ€å·§**ï¼šè¾¹ç•Œæ”¶ç¼©æ³• / æ–¹å‘æ•°ç»„æ³•

è¿™é“é¢˜æœ¬è´¨ä¸Šæ˜¯ä¸€é“**æ¨¡æ‹Ÿé¢˜**ï¼Œæ²¡æœ‰å¤æ‚çš„æ•°å­¦æ¨å¯¼ï¼Œå…³é”®åœ¨äºæ¸…æ™°åœ°ç»´æŠ¤å››ä¸ªè¾¹ç•Œï¼Œå¹¶æŒ‰é¡ºåºæ¨¡æ‹Ÿèºæ—‹éå†çš„è¿‡ç¨‹ã€‚

---

## ğŸ’¡ è§£é¢˜æ€è·¯

### æ–¹æ³•ä¸€ï¼šæš´åŠ›è§£æ³•ï¼ˆæ ‡è®°å·²è®¿é—®ï¼‰

#### ğŸŒŸ å½¢è±¡åŒ–ç†è§£

**åœºæ™¯ç±»æ¯”ï¼šæ‰«åœ°æœºå™¨äºº**

æƒ³è±¡ä¸€ä¸ªæ‰«åœ°æœºå™¨äººåœ¨ä¸€ä¸ªæˆ¿é—´é‡Œå·¥ä½œã€‚æˆ¿é—´è¢«åˆ’åˆ†æˆä¸€ä¸ªä¸ªæ ¼å­ï¼Œæœºå™¨äººä»å·¦ä¸Šè§’å‡ºå‘ï¼ŒæŒ‰ç…§"å³â†’ä¸‹â†’å·¦â†’ä¸Š"çš„é¡ºåºæ¸…æ‰«ã€‚æ¯æ‰«è¿‡ä¸€ä¸ªæ ¼å­ï¼Œå°±åœ¨åœ°ä¸Šè´´ä¸€å¼ "å·²æ¸…æ‰«"çš„æ ‡ç­¾ã€‚å½“æœºå™¨äººå‘ç°å‰æ–¹æ˜¯å¢™å£ï¼ˆè¾¹ç•Œï¼‰æˆ–è€…æ˜¯"å·²æ¸…æ‰«"çš„æ ¼å­æ—¶ï¼Œå°±å³è½¬90åº¦ï¼Œç»§ç»­å‰è¿›ã€‚

**å¯¹åº”å…³ç³»**ï¼š
- **æˆ¿é—´æ ¼å­** = çŸ©é˜µä¸­çš„æ¯ä¸ªå…ƒç´ 
- **æœºå™¨äººå½“å‰ä½ç½®** = å½“å‰éå†çš„åæ ‡ `(row, col)`
- **"å·²æ¸…æ‰«"æ ‡ç­¾** = `visited` æ•°ç»„ä¸­æ ‡è®°ä¸º `True`
- **å³è½¬** = åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ–¹å‘ï¼ˆå³â†’ä¸‹â†’å·¦â†’ä¸Šâ†’å³...ï¼‰
- **é‡åˆ°å¢™æˆ–å·²æ¸…æ‰«æ ¼å­** = è¶Šç•Œæˆ–å·²è®¿é—®ï¼Œè§¦å‘è½¬å‘

**æ ¸å¿ƒç†è§£**ï¼šæœºå™¨äººä¸éœ€è¦æå‰è§„åˆ’è·¯çº¿ï¼Œåªéœ€è¦"èµ°ä¸é€šå°±è½¬å¼¯"ï¼Œè‡ªç„¶å°±èƒ½èµ°å‡ºèºæ—‹è·¯å¾„ã€‚

---

#### æ€è·¯è¯´æ˜

æœ€ç›´è§‚çš„æ–¹æ³•ï¼šç”¨ä¸€ä¸ªä¸åŸçŸ©é˜µåŒç­‰å¤§å°çš„ `visited` å¸ƒå°”æ•°ç»„è®°å½•å“ªäº›ä½ç½®å·²ç»è¢«è®¿é—®è¿‡ã€‚ç„¶åæ¨¡æ‹Ÿæœºå™¨äººçš„è¡Œèµ°è¿‡ç¨‹ï¼š

1. å®šä¹‰å››ä¸ªæ–¹å‘çš„ç§»åŠ¨å‘é‡ï¼šå³`(0,1)`ã€ä¸‹`(1,0)`ã€å·¦`(0,-1)`ã€ä¸Š`(-1,0)`
2. ä» `(0, 0)` å‡ºå‘ï¼ŒæŒ‰å½“å‰æ–¹å‘ä¸€ç›´èµ°
3. æ¯èµ°ä¸€æ­¥ï¼Œå°†å½“å‰ä½ç½®åŠ å…¥ç»“æœï¼Œå¹¶æ ‡è®°ä¸ºå·²è®¿é—®
4. å¦‚æœä¸‹ä¸€æ­¥è¶Šç•Œæˆ–å·²è®¿é—®ï¼Œåˆ™é¡ºæ—¶é’ˆæ¢æ–¹å‘
5. é‡å¤ç›´åˆ°æ”¶é›†äº†æ‰€æœ‰ `mÃ—n` ä¸ªå…ƒç´ 

#### ç®—æ³•æ­¥éª¤

1. åˆå§‹åŒ– `visited` æ•°ç»„ï¼ˆå…¨ä¸º `False`ï¼‰ï¼Œç»“æœåˆ—è¡¨ `result = []`
2. å®šä¹‰æ–¹å‘æ•°ç»„ `directions = [(0,1), (1,0), (0,-1), (-1,0)]`ï¼Œåˆå§‹æ–¹å‘ç´¢å¼• `d = 0`
3. å½“å‰ä½ç½® `row = 0, col = 0`
4. å¾ªç¯ `m * n` æ¬¡ï¼š
   - å°† `matrix[row][col]` åŠ å…¥ `result`
   - æ ‡è®° `visited[row][col] = True`
   - è®¡ç®—ä¸‹ä¸€æ­¥ä½ç½® `next_row = row + directions[d][0]`ï¼Œ`next_col = col + directions[d][1]`
   - è‹¥ä¸‹ä¸€æ­¥è¶Šç•Œæˆ–å·²è®¿é—®ï¼Œåˆ™ `d = (d + 1) % 4`ï¼ˆæ¢æ–¹å‘ï¼‰
   - æ›´æ–° `row, col` ä¸ºæ–°æ–¹å‘çš„ä¸‹ä¸€æ­¥
5. è¿”å› `result`

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(mÃ—n) â€” æ¯ä¸ªå…ƒç´ æ°å¥½è¢«è®¿é—®ä¸€æ¬¡
- **ç©ºé—´å¤æ‚åº¦**ï¼šO(mÃ—n) â€” éœ€è¦é¢å¤–çš„ `visited` æ•°ç»„å­˜å‚¨è®¿é—®çŠ¶æ€

#### ä¸ºä»€ä¹ˆéœ€è¦ä¼˜åŒ–

æš´åŠ›è§£æ³•çš„é€»è¾‘æ¸…æ™°ï¼Œä½†**é¢å¤–ä½¿ç”¨äº† O(mÃ—n) çš„ç©ºé—´**æ¥å­˜å‚¨ `visited` æ•°ç»„ã€‚å¯¹äºè¿™é“é¢˜ï¼ŒçŸ©é˜µè§„æ¨¡æœ€å¤§åªæœ‰ 10Ã—10ï¼Œç©ºé—´å¼€é”€ä¸æ˜¯é—®é¢˜ã€‚ä½†ä»ç®—æ³•è®¾è®¡çš„è§’åº¦ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½åšåˆ° **O(1) é¢å¤–ç©ºé—´**ï¼ˆä¸è®¡è¾“å‡ºç»“æœï¼‰ã€‚

æ ¸å¿ƒé—®é¢˜ï¼š**èƒ½å¦ä¸ç”¨ `visited` æ•°ç»„ï¼Œä¹Ÿèƒ½çŸ¥é“ä»€ä¹ˆæ—¶å€™è¯¥è½¬å‘ï¼Ÿ**

ç­”æ¡ˆæ˜¯å¯ä»¥çš„â€”â€”é€šè¿‡ç»´æŠ¤å››ä¸ªè¾¹ç•Œæ¥ä»£æ›¿ `visited` æ•°ç»„ï¼Œè¿™å°±æ˜¯æ–¹æ³•äºŒçš„æ ¸å¿ƒæ€æƒ³ã€‚

---

### æ–¹æ³•äºŒï¼šä¼˜åŒ–è§£æ³•ï¼ˆè¾¹ç•Œæ”¶ç¼©æ³•ï¼‰

#### ğŸŒŸ å½¢è±¡åŒ–ç†è§£

> **ğŸ’¡ åœ¨è¿›å…¥ä¸“ä¸šç®—æ³•åˆ†æä¹‹å‰ï¼Œå…ˆé€šè¿‡ä¸€ä¸ªç”Ÿæ´»åŒ–çš„ä¾‹å­æ¥ç†è§£ä¼˜åŒ–æ€è·¯çš„æœ¬è´¨**

**åœºæ™¯ç±»æ¯”ï¼šå‰¥æ´‹è‘±**

æƒ³è±¡ä½ åœ¨å‰¥ä¸€é¢—æ´‹è‘±ï¼Œæ´‹è‘±æ˜¯ä¸€å±‚ä¸€å±‚çš„ã€‚ä½ æ¯æ¬¡ä»æœ€å¤–å±‚å¼€å§‹ï¼Œæ²¿ç€å¤–åœˆæŠŠè¿™ä¸€å±‚å‰¥ä¸‹æ¥ï¼ˆé¡ºåºï¼šä¸Šè¾¹â†’å³è¾¹â†’ä¸‹è¾¹â†’å·¦è¾¹ï¼‰ï¼Œå‰¥å®Œä¸€åœˆåï¼Œæ´‹è‘±å°±ç¼©å°äº†ä¸€åœˆï¼Œç„¶åç»§ç»­å‰¥ä¸‹ä¸€å±‚ï¼Œç›´åˆ°æ´‹è‘±è¢«å®Œå…¨å‰¥å®Œã€‚

**å¯¹åº”å…³ç³»**ï¼š
- **æ´‹è‘±çš„æ¯ä¸€å±‚** = çŸ©é˜µçš„æ¯ä¸€åœˆå…ƒç´ 
- **å‰¥ä¸€åœˆçš„é¡ºåº** = å‘å³â†’å‘ä¸‹â†’å‘å·¦â†’å‘ä¸Šéå†ä¸€åœˆ
- **æ´‹è‘±ç¼©å°ä¸€åœˆ** = å››ä¸ªè¾¹ç•Œå„æ”¶ç¼©ä¸€æ ¼ï¼ˆtop+1, right-1, bottom-1, left+1ï¼‰
- **æ´‹è‘±å‰¥å®Œ** = `top > bottom` æˆ– `left > right`ï¼Œéå†ç»“æŸ
- **ä¸éœ€è¦è®°å½•"å‰¥è¿‡å“ªé‡Œ"** = ä¸éœ€è¦ `visited` æ•°ç»„ï¼Œè¾¹ç•Œæœ¬èº«å°±è®°å½•äº†è¿›åº¦

**æ ¸å¿ƒç†è§£**ï¼šç”¨å››æ¡è¾¹ç•Œçº¿å›´ä½"è¿˜æ²¡éå†çš„åŒºåŸŸ"ï¼Œæ¯èµ°å®Œä¸€æ¡è¾¹å°±æŠŠå¯¹åº”è¾¹ç•Œå¾€å†…æ”¶ç¼©ï¼Œè‡ªç„¶å°±ä¸ä¼šé‡å¤è®¿é—®ï¼Œä¹Ÿä¸éœ€è¦é¢å¤–æ ‡è®°ã€‚

**ä»ç±»æ¯”åˆ°ç®—æ³•**ï¼šç°åœ¨è®©æˆ‘ä»¬æŠŠ"å‰¥æ´‹è‘±"çš„æ€æƒ³è½¬åŒ–ä¸ºå…·ä½“çš„è¾¹ç•Œæ”¶ç¼©ç®—æ³•...

---

#### ä¼˜åŒ–æ€è·¯æ¨å¯¼

**æ€è€ƒè¿‡ç¨‹**ï¼š

1. **æš´åŠ›è§£æ³•çš„ç“¶é¢ˆåœ¨äº**ï¼šéœ€è¦ O(mÃ—n) çš„ `visited` æ•°ç»„æ¥åˆ¤æ–­"æ˜¯å¦å·²è®¿é—®"
2. **è§‚å¯Ÿèºæ—‹éå†çš„è§„å¾‹**ï¼šæ¯èµ°å®Œä¸€æ¡è¾¹ï¼ˆä¸Š/å³/ä¸‹/å·¦ï¼‰ï¼Œé‚£æ¡è¾¹å°±æ°¸è¿œä¸ä¼šå†è¢«è®¿é—®äº†
3. **å…³é”®æ´å¯Ÿ**ï¼šä¸å…¶è®°å½•"å“ªäº›æ ¼å­è®¿é—®è¿‡"ï¼Œä¸å¦‚ç›´æ¥è®°å½•"è¿˜å‰©å“ªäº›æ ¼å­æ²¡è®¿é—®"â€”â€”ç”¨å››ä¸ªè¾¹ç•Œå˜é‡ `top, bottom, left, right` æ¥è¡¨ç¤ºå½“å‰æœªè®¿é—®åŒºåŸŸçš„èŒƒå›´
4. **æ¯èµ°å®Œä¸€æ¡è¾¹ï¼Œå¯¹åº”è¾¹ç•Œæ”¶ç¼©ä¸€æ ¼**ï¼Œä¸‹æ¬¡éå†è‡ªç„¶å°±è·³è¿‡äº†å·²è®¿é—®çš„éƒ¨åˆ†
5. **æœ€ç»ˆå¾—åˆ°ä¼˜åŒ–æ–¹æ¡ˆ**ï¼šO(1) é¢å¤–ç©ºé—´ï¼ˆåªç”¨4ä¸ªæ•´æ•°å˜é‡ï¼‰

#### ç®—æ³•æ­¥éª¤

1. **åˆå§‹åŒ–å››ä¸ªè¾¹ç•Œ**ï¼š
   - `top = 0`ï¼ˆä¸Šè¾¹ç•Œï¼Œåˆå§‹ä¸ºç¬¬0è¡Œï¼‰
   - `bottom = m - 1`ï¼ˆä¸‹è¾¹ç•Œï¼Œåˆå§‹ä¸ºæœ€åä¸€è¡Œï¼‰
   - `left = 0`ï¼ˆå·¦è¾¹ç•Œï¼Œåˆå§‹ä¸ºç¬¬0åˆ—ï¼‰
   - `right = n - 1`ï¼ˆå³è¾¹ç•Œï¼Œåˆå§‹ä¸ºæœ€åä¸€åˆ—ï¼‰

2. **å¾ªç¯ï¼Œç›´åˆ°è¾¹ç•Œäº¤å‰**ï¼ˆ`top > bottom` æˆ– `left > right`ï¼‰ï¼š

   - **å‘å³éå†**ï¼šä» `left` åˆ° `right`ï¼Œå›ºå®šè¡Œä¸º `top`ï¼Œæ”¶é›†å…ƒç´ ï¼›å®Œæˆå `top += 1`
   - **å‘ä¸‹éå†**ï¼šä» `top` åˆ° `bottom`ï¼Œå›ºå®šåˆ—ä¸º `right`ï¼Œæ”¶é›†å…ƒç´ ï¼›å®Œæˆå `right -= 1`
   - **å‘å·¦éå†**ï¼ˆéœ€åˆ¤æ–­ `top <= bottom`ï¼‰ï¼šä» `right` åˆ° `left`ï¼Œå›ºå®šè¡Œä¸º `bottom`ï¼Œæ”¶é›†å…ƒç´ ï¼›å®Œæˆå `bottom -= 1`
   - **å‘ä¸Šéå†**ï¼ˆéœ€åˆ¤æ–­ `left <= right`ï¼‰ï¼šä» `bottom` åˆ° `top`ï¼Œå›ºå®šåˆ—ä¸º `left`ï¼Œæ”¶é›†å…ƒç´ ï¼›å®Œæˆå `left += 1`

3. è¿”å›ç»“æœåˆ—è¡¨

> **æ³¨æ„**ï¼šå‘å·¦å’Œå‘ä¸Šéå†å‰éœ€è¦é¢å¤–åˆ¤æ–­è¾¹ç•Œï¼ŒåŸå› æ˜¯å½“çŸ©é˜µåªå‰©å•è¡Œæˆ–å•åˆ—æ—¶ï¼Œå‘å³/å‘ä¸‹å·²ç»å¤„ç†å®Œäº†ï¼Œä¸èƒ½å†é‡å¤å‘å·¦/å‘ä¸Šéå†ã€‚

#### å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(mÃ—n) â€” æ¯ä¸ªå…ƒç´ æ°å¥½è¢«è®¿é—®ä¸€æ¬¡ï¼Œä¸æš´åŠ›è§£æ³•ç›¸åŒ
- **ç©ºé—´å¤æ‚åº¦**ï¼šO(1) â€” åªä½¿ç”¨äº† `top, bottom, left, right` å››ä¸ªæ•´æ•°å˜é‡ï¼ˆä¸è®¡è¾“å‡ºç»“æœåˆ—è¡¨ï¼‰

#### ğŸ’­ å›é¡¾ç±»æ¯”

- ç”Ÿæ´»ä¸­çš„"æ´‹è‘±æ¯ä¸€å±‚" å¯¹åº” ä»£ç ä¸­çš„"ä¸€æ¬¡å®Œæ•´çš„å››æ–¹å‘éå†å¾ªç¯"
- ç”Ÿæ´»ä¸­çš„"å‰¥å®Œä¸€åœˆæ´‹è‘±ç¼©å°" å¯¹åº” ä»£ç ä¸­çš„"å››ä¸ªè¾¹ç•Œå„æ”¶ç¼©ä¸€æ ¼"
- ç”Ÿæ´»ä¸­çš„"ä¸éœ€è¦è®°å½•å‰¥è¿‡å“ªé‡Œ" å¯¹åº” ä»£ç ä¸­çš„"ä¸éœ€è¦ `visited` æ•°ç»„"
- è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¾¹ç•Œæ”¶ç¼©æ³•èƒ½æŠŠç©ºé—´å¤æ‚åº¦ä» O(mÃ—n) é™åˆ° O(1)

---

## ğŸ¨ å›¾è§£è¯´æ˜

### æ‰§è¡Œè¿‡ç¨‹ç¤ºä¾‹

ä»¥ `matrix = [[1,2,3],[4,5,6],[7,8,9]]` ä¸ºä¾‹ï¼Œåˆå§‹è¾¹ç•Œï¼š`top=0, bottom=2, left=0, right=2`

```
åˆå§‹çŸ©é˜µï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1   2   3  â”‚  â† top=0
â”‚  4   5   6  â”‚
â”‚  7   8   9  â”‚  â† bottom=2
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†‘           â†‘
 left=0      right=2

ç¬¬1åœˆï¼š
â†’ å‘å³éå† topè¡Œ(row=0)ï¼Œcol: 0â†’2ï¼šæ”¶é›† [1, 2, 3]ï¼Œtopå˜ä¸º1
â†“ å‘ä¸‹éå† rightåˆ—(col=2)ï¼Œrow: 1â†’2ï¼šæ”¶é›† [6, 9]ï¼Œrightå˜ä¸º1
â† å‘å·¦éå† bottomè¡Œ(row=2)ï¼Œcol: 1â†’0ï¼šæ”¶é›† [8, 7]ï¼Œbottomå˜ä¸º1
â†‘ å‘ä¸Šéå† leftåˆ—(col=0)ï¼Œrow: 1â†’1ï¼šæ”¶é›† [4]ï¼Œleftå˜ä¸º1

æ­¤æ—¶è¾¹ç•Œï¼štop=1, bottom=1, left=1, right=1

ç¬¬2åœˆï¼š
â†’ å‘å³éå† topè¡Œ(row=1)ï¼Œcol: 1â†’1ï¼šæ”¶é›† [5]ï¼Œtopå˜ä¸º2
æ­¤æ—¶ top(2) > bottom(1)ï¼Œå¾ªç¯ç»“æŸ

æœ€ç»ˆç»“æœï¼š[1, 2, 3, 6, 9, 8, 7, 4, 5] âœ“
```

### éæ­£æ–¹å½¢çŸ©é˜µç¤ºä¾‹

ä»¥ `matrix = [[1,2,3,4],[5,6,7,8],[9,10,11,12]]` ä¸ºä¾‹ï¼ˆ3è¡Œ4åˆ—ï¼‰

```
åˆå§‹ï¼štop=0, bottom=2, left=0, right=3

ç¬¬1åœˆï¼š
â†’ å‘å³(row=0, col:0â†’3)ï¼šæ”¶é›† [1,2,3,4]ï¼Œtop=1
â†“ å‘ä¸‹(col=3, row:1â†’2)ï¼šæ”¶é›† [8,12]ï¼Œright=2
â† å‘å·¦(row=2, col:2â†’0)ï¼šæ”¶é›† [11,10,9]ï¼Œbottom=1
â†‘ å‘ä¸Š(col=0, row:1â†’1)ï¼šæ”¶é›† [5]ï¼Œleft=1

æ­¤æ—¶è¾¹ç•Œï¼štop=1, bottom=1, left=1, right=2

ç¬¬2åœˆï¼š
â†’ å‘å³(row=1, col:1â†’2)ï¼šæ”¶é›† [6,7]ï¼Œtop=2
æ­¤æ—¶ top(2) > bottom(1)ï¼Œå¾ªç¯ç»“æŸ

æœ€ç»ˆç»“æœï¼š[1,2,3,4,8,12,11,10,9,5,6,7] âœ“
```

### å¯è§†åŒ–æµç¨‹å›¾

```mermaid
graph TD
    A[åˆå§‹åŒ– top/bottom/left/right] --> B{top<=bottom ä¸” left<=right?}
    B -- å¦ --> G[è¿”å›ç»“æœ]
    B -- æ˜¯ --> C[å‘å³éå† topè¡Œï¼ŒtopåŠ 1]
    C --> D[å‘ä¸‹éå† rightåˆ—ï¼Œrightå‡1]
    D --> E{top<=bottom?}
    E -- æ˜¯ --> F1[å‘å·¦éå† bottomè¡Œï¼Œbottomå‡1]
    E -- å¦ --> B
    F1 --> F2{left<=right?}
    F2 -- æ˜¯ --> F3[å‘ä¸Šéå† leftåˆ—ï¼ŒleftåŠ 1]
    F2 -- å¦ --> B
    F3 --> B
```

---

## âœï¸ ä»£ç æ¡†æ¶å¡«ç©º

> **ğŸ’¡ å­¦ä¹ æç¤º**ï¼šåœ¨æŸ¥çœ‹å®Œæ•´ä»£ç ä¹‹å‰ï¼Œå…ˆå°è¯•æ ¹æ®ä¸Šé¢çš„ç®—æ³•æ­¥éª¤ï¼Œè‡ªå·±æ€è€ƒå¹¶å¡«å†™ä¸‹é¢çš„ç©ºç™½å¤„ã€‚è¿™å°†å¸®åŠ©ä½ ä»"ä¸çŸ¥é“æ€ä¹ˆå¼€å§‹"è¿‡æ¸¡åˆ°"èƒ½å¤Ÿç‹¬ç«‹å®ç°å…³é”®é€»è¾‘"ã€‚

### Python å¡«ç©ºç‰ˆ

```python
import sys
input = sys.stdin.readline
# List æ¥è‡ª typing æ¨¡å—ï¼Œç”¨äºç±»å‹æ³¨è§£ spiralOrder çš„å‚æ•°å’Œè¿”å›å€¼
from typing import List

class Solution:
    def spiralOrder(self, matrix: List[List[int]]) -> List[int]:
        # ğŸ”¹ å¡«ç©º1ï¼ˆç®€å•ï¼‰ï¼šè·å–çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°
        # æç¤ºï¼šmatrix æœ‰å¤šå°‘è¡Œï¼Ÿæ¯è¡Œæœ‰å¤šå°‘åˆ—ï¼Ÿ
        m, n = ______, ______

        # ğŸ”¹ å¡«ç©º2ï¼ˆç®€å•ï¼‰ï¼šåˆå§‹åŒ–å››ä¸ªè¾¹ç•Œå˜é‡
        # æç¤ºï¼šä¸Šè¾¹ç•Œä»ç¬¬0è¡Œå¼€å§‹ï¼Œä¸‹è¾¹ç•Œä»æœ€åä¸€è¡Œå¼€å§‹ï¼Œå·¦å³åŒç†
        top, bottom = ______, ______
        left, right = ______, ______

        # ğŸ”¹ å¡«ç©º3ï¼ˆç®€å•ï¼‰ï¼šåˆå§‹åŒ–ç»“æœåˆ—è¡¨
        result = ______

        # ä¸»å¾ªç¯ï¼šå½“è¾¹ç•Œåˆæ³•æ—¶æŒç»­éå†
        while top <= bottom and left <= right:

            # ğŸ”¹ å¡«ç©º4ï¼ˆä¸­ç­‰ï¼‰ï¼šå‘å³éå† top è¡Œ
            # æç¤ºï¼šå›ºå®šè¡Œä¸º topï¼Œåˆ—ä» left éå†åˆ° rightï¼ˆå«ï¼‰
            for col in range(______, ______):
                result.append(matrix[______][______])
            # ğŸ”¹ å¡«ç©º5ï¼ˆç®€å•ï¼‰ï¼šæ”¶ç¼©ä¸Šè¾¹ç•Œ
            top ______

            # ğŸ”¹ å¡«ç©º6ï¼ˆä¸­ç­‰ï¼‰ï¼šå‘ä¸‹éå† right åˆ—
            # æç¤ºï¼šå›ºå®šåˆ—ä¸º rightï¼Œè¡Œä» top éå†åˆ° bottomï¼ˆå«ï¼‰
            for row in range(______, ______):
                result.append(matrix[______][______])
            # ğŸ”¹ å¡«ç©º7ï¼ˆç®€å•ï¼‰ï¼šæ”¶ç¼©å³è¾¹ç•Œ
            right ______

            # ğŸ”¹ å¡«ç©º8ï¼ˆå›°éš¾ï¼‰ï¼šå‘å·¦éå† bottom è¡Œï¼ˆéœ€è¦åˆ¤æ–­è¾¹ç•Œæ˜¯å¦ä»æœ‰æ•ˆï¼‰
            # æç¤ºï¼šä¸ºä»€ä¹ˆè¿™é‡Œéœ€è¦é¢å¤–åˆ¤æ–­ top <= bottomï¼Ÿ
            if ______:
                for col in range(______, ______, ______):  # æ³¨æ„ï¼šä»å³å¾€å·¦ï¼Œæ­¥é•¿ä¸º-1
                    result.append(matrix[______][______])
                # ğŸ”¹ å¡«ç©º9ï¼ˆç®€å•ï¼‰ï¼šæ”¶ç¼©ä¸‹è¾¹ç•Œ
                bottom ______

            # ğŸ”¹ å¡«ç©º10ï¼ˆå›°éš¾ï¼‰ï¼šå‘ä¸Šéå† left åˆ—ï¼ˆéœ€è¦åˆ¤æ–­è¾¹ç•Œæ˜¯å¦ä»æœ‰æ•ˆï¼‰
            # æç¤ºï¼šä¸ºä»€ä¹ˆè¿™é‡Œéœ€è¦é¢å¤–åˆ¤æ–­ left <= rightï¼Ÿ
            if ______:
                for row in range(______, ______, ______):  # æ³¨æ„ï¼šä»ä¸‹å¾€ä¸Šï¼Œæ­¥é•¿ä¸º-1
                    result.append(matrix[______][______])
                # ğŸ”¹ å¡«ç©º11ï¼ˆç®€å•ï¼‰ï¼šæ”¶ç¼©å·¦è¾¹ç•Œ
                left ______

        # ğŸ”¹ å¡«ç©º12ï¼ˆç®€å•ï¼‰ï¼šè¿”å›ç»“æœ
        return ______
```

### å¡«ç©ºæç¤ºè¯¦è§£

**å¡«ç©º1 - è·å–çŸ©é˜µå°ºå¯¸**
- æ€è€ƒï¼šPython ä¸­å¦‚ä½•è·å–åˆ—è¡¨çš„é•¿åº¦ï¼ŸäºŒç»´åˆ—è¡¨çš„è¡Œæ•°å’Œåˆ—æ•°åˆ†åˆ«æ€ä¹ˆå–ï¼Ÿ
- æç¤ºï¼š`len(matrix)` æ˜¯è¡Œæ•°ï¼Œ`len(matrix[0])` æ˜¯åˆ—æ•°

**å¡«ç©º2 - åˆå§‹åŒ–è¾¹ç•Œ**
- æ€è€ƒï¼šä¸Šè¾¹ç•Œåˆå§‹æ˜¯ç¬¬å‡ è¡Œï¼Ÿä¸‹è¾¹ç•Œåˆå§‹æ˜¯ç¬¬å‡ è¡Œï¼Ÿ
- æç¤ºï¼šä¸Šè¾¹ç•Œ = 0ï¼Œä¸‹è¾¹ç•Œ = m-1ï¼Œå·¦è¾¹ç•Œ = 0ï¼Œå³è¾¹ç•Œ = n-1

**å¡«ç©º3 - åˆå§‹åŒ–ç»“æœ**
- æ€è€ƒï¼šç»“æœæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œåˆå§‹ä¸ºç©º
- æç¤ºï¼š`result = []`

**å¡«ç©º4/6 - éå†èŒƒå›´**
- æ€è€ƒï¼š`range(a, b)` åŒ…å« a ä½†ä¸åŒ…å« bï¼Œæ‰€ä»¥ç»ˆç‚¹è¦ +1
- æç¤ºï¼šå‘å³æ˜¯ `range(left, right+1)`ï¼Œå‘ä¸‹æ˜¯ `range(top, bottom+1)`

**å¡«ç©º5/7/9/11 - è¾¹ç•Œæ”¶ç¼©**
- æ€è€ƒï¼šèµ°å®Œä¸Šè¾¹ç•Œåï¼Œä¸Šè¾¹ç•Œåº”è¯¥å¾€å“ªä¸ªæ–¹å‘ç§»åŠ¨ï¼Ÿ
- æç¤ºï¼š`top += 1`ï¼Œ`right -= 1`ï¼Œ`bottom -= 1`ï¼Œ`left += 1`

**å¡«ç©º8/10 - é¢å¤–è¾¹ç•Œåˆ¤æ–­**
- æ€è€ƒï¼šå½“çŸ©é˜µåªæœ‰ä¸€è¡Œæ—¶ï¼Œå‘å³éå†å®Œåï¼Œä¸åº”è¯¥å†å‘å·¦éå†ï¼Œå¦åˆ™ä¼šé‡å¤
- æç¤ºï¼šå‘å·¦å‰åˆ¤æ–­ `top <= bottom`ï¼Œå‘ä¸Šå‰åˆ¤æ–­ `left <= right`

**å¡«ç©º12 - è¿”å›ç»“æœ**
- æ€è€ƒï¼šæœ€ç»ˆè¿”å›æ”¶é›†å¥½çš„å…ƒç´ åˆ—è¡¨
- æç¤ºï¼š`return result`

### C++ å¡«ç©ºç‰ˆ

```cpp
#include <vector>
using namespace std;

class Solution {
public:
    vector<int> spiralOrder(vector<vector<int>>& matrix) {
        // ğŸ”¹ å¡«ç©º1ï¼šè·å–è¡Œæ•°å’Œåˆ—æ•°
        int m = ______, n = ______;

        // ğŸ”¹ å¡«ç©º2ï¼šåˆå§‹åŒ–å››ä¸ªè¾¹ç•Œ
        int top = ______, bottom = ______;
        int left = ______, right = ______;

        vector<int> result;

        while (top <= bottom && left <= right) {
            // ğŸ”¹ å¡«ç©º3ï¼šå‘å³éå† top è¡Œ
            for (int col = ______; col <= ______; col++)
                result.push_back(matrix[______][______]);
            ______;  // top++

            // ğŸ”¹ å¡«ç©º4ï¼šå‘ä¸‹éå† right åˆ—
            for (int row = ______; row <= ______; row++)
                result.push_back(matrix[______][______]);
            ______;  // right--

            // ğŸ”¹ å¡«ç©º5ï¼šå‘å·¦éå† bottom è¡Œï¼ˆéœ€åˆ¤æ–­ï¼‰
            if (______) {
                for (int col = ______; col >= ______; col--)
                    result.push_back(matrix[______][______]);
                ______;  // bottom--
            }

            // ğŸ”¹ å¡«ç©º6ï¼šå‘ä¸Šéå† left åˆ—ï¼ˆéœ€åˆ¤æ–­ï¼‰
            if (______) {
                for (int row = ______; row >= ______; row--)
                    result.push_back(matrix[______][______]);
                ______;  // left++
            }
        }

        // ğŸ”¹ å¡«ç©º7ï¼šè¿”å›ç»“æœ
        return ______;
    }
};
```

---

## ğŸ’» å®Œæ•´ä»£ç å®ç°

> **âœ… å¯¹ç…§æ£€æŸ¥**ï¼šç°åœ¨å¯¹æ¯”ä½ çš„å¡«ç©ºç­”æ¡ˆå’Œä¸‹é¢çš„å®Œæ•´å®ç°ï¼Œçœ‹çœ‹æ€è·¯æ˜¯å¦ä¸€è‡´ã€‚

### Python å®ç°

```python
import sys
input = sys.stdin.readline
# List æ¥è‡ª typing æ¨¡å—ï¼Œç”¨äº spiralOrder çš„å‚æ•°ç±»å‹æ³¨è§£ List[List[int]] å’Œè¿”å›ç±»å‹æ³¨è§£ List[int]
from typing import List

class Solution:
    def spiralOrder(self, matrix: List[List[int]]) -> List[int]:
        # è·å–çŸ©é˜µçš„è¡Œæ•° m å’Œåˆ—æ•° n
        m, n = len(matrix), len(matrix[0])

        # åˆå§‹åŒ–å››ä¸ªè¾¹ç•Œï¼šä¸Šã€ä¸‹ã€å·¦ã€å³
        top, bottom = 0, m - 1
        left, right = 0, n - 1

        # ç»“æœåˆ—è¡¨ï¼Œç”¨äºæ”¶é›†èºæ—‹é¡ºåºçš„å…ƒç´ 
        result = []

        # å½“ä¸Šè¾¹ç•Œä¸è¶…è¿‡ä¸‹è¾¹ç•Œï¼Œä¸”å·¦è¾¹ç•Œä¸è¶…è¿‡å³è¾¹ç•Œæ—¶ï¼Œç»§ç»­éå†
        while top <= bottom and left <= right:

            # 1. å‘å³éå†ï¼šå›ºå®šè¡Œä¸º topï¼Œåˆ—ä» left åˆ° right
            for col in range(left, right + 1):
                result.append(matrix[top][col])
            top += 1  # ä¸Šè¾¹ç•Œä¸‹ç§»ï¼Œtop è¡Œå·²å…¨éƒ¨æ”¶é›†

            # 2. å‘ä¸‹éå†ï¼šå›ºå®šåˆ—ä¸º rightï¼Œè¡Œä» top åˆ° bottom
            for row in range(top, bottom + 1):
                result.append(matrix[row][right])
            right -= 1  # å³è¾¹ç•Œå·¦ç§»ï¼Œright åˆ—å·²å…¨éƒ¨æ”¶é›†

            # 3. å‘å·¦éå†ï¼šå›ºå®šè¡Œä¸º bottomï¼Œåˆ—ä» right åˆ° left
            # éœ€è¦åˆ¤æ–­ top <= bottomï¼Œé˜²æ­¢å•è¡ŒçŸ©é˜µè¢«é‡å¤éå†
            if top <= bottom:
                for col in range(right, left - 1, -1):
                    result.append(matrix[bottom][col])
                bottom -= 1  # ä¸‹è¾¹ç•Œä¸Šç§»ï¼Œbottom è¡Œå·²å…¨éƒ¨æ”¶é›†

            # 4. å‘ä¸Šéå†ï¼šå›ºå®šåˆ—ä¸º leftï¼Œè¡Œä» bottom åˆ° top
            # éœ€è¦åˆ¤æ–­ left <= rightï¼Œé˜²æ­¢å•åˆ—çŸ©é˜µè¢«é‡å¤éå†
            if left <= right:
                for row in range(bottom, top - 1, -1):
                    result.append(matrix[row][left])
                left += 1  # å·¦è¾¹ç•Œå³ç§»ï¼Œleft åˆ—å·²å…¨éƒ¨æ”¶é›†

        return result


# æµ‹è¯•ä»£ç 
if __name__ == "__main__":
    sol = Solution()

    # æµ‹è¯•ç”¨ä¾‹1ï¼š3x3 çŸ©é˜µ
    matrix1 = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
    expected1 = [1, 2, 3, 6, 9, 8, 7, 4, 5]
    result1 = sol.spiralOrder(matrix1)
    print(f"æµ‹è¯•1: {result1 == expected1}ï¼Œç»“æœï¼š{result1}")

    # æµ‹è¯•ç”¨ä¾‹2ï¼š3x4 çŸ©é˜µ
    matrix2 = [[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12]]
    expected2 = [1, 2, 3, 4, 8, 12, 11, 10, 9, 5, 6, 7]
    result2 = sol.spiralOrder(matrix2)
    print(f"æµ‹è¯•2: {result2 == expected2}ï¼Œç»“æœï¼š{result2}")

    # æµ‹è¯•ç”¨ä¾‹3ï¼šå•è¡ŒçŸ©é˜µ
    matrix3 = [[1, 2, 3]]
    expected3 = [1, 2, 3]
    result3 = sol.spiralOrder(matrix3)
    print(f"æµ‹è¯•3: {result3 == expected3}ï¼Œç»“æœï¼š{result3}")

    # æµ‹è¯•ç”¨ä¾‹4ï¼šå•åˆ—çŸ©é˜µ
    matrix4 = [[1], [2], [3]]
    expected4 = [1, 2, 3]
    result4 = sol.spiralOrder(matrix4)
    print(f"æµ‹è¯•4: {result4 == expected4}ï¼Œç»“æœï¼š{result4}")

    # æµ‹è¯•ç”¨ä¾‹5ï¼š1x1 çŸ©é˜µ
    matrix5 = [[42]]
    expected5 = [42]
    result5 = sol.spiralOrder(matrix5)
    print(f"æµ‹è¯•5: {result5 == expected5}ï¼Œç»“æœï¼š{result5}")
```

**å¡«ç©ºç­”æ¡ˆè§£æ**ï¼š
- **å¡«ç©º1**ï¼š`m, n = len(matrix), len(matrix[0])` â€” è¡Œæ•°æ˜¯å¤–å±‚åˆ—è¡¨é•¿åº¦ï¼Œåˆ—æ•°æ˜¯å†…å±‚åˆ—è¡¨é•¿åº¦
- **å¡«ç©º2**ï¼š`top, bottom = 0, m-1` / `left, right = 0, n-1` â€” è¾¹ç•Œåˆå§‹è¦†ç›–æ•´ä¸ªçŸ©é˜µ
- **å¡«ç©º3**ï¼š`result = []` â€” ç©ºåˆ—è¡¨æ”¶é›†ç»“æœ
- **å¡«ç©º4**ï¼š`range(left, right+1)` â€” å‘å³éå†ï¼Œç»ˆç‚¹ +1 å› ä¸º range ä¸å«å³ç«¯ç‚¹
- **å¡«ç©º5**ï¼š`top += 1` â€” èµ°å®Œä¸Šè¾¹ç•Œåä¸Šç§»
- **å¡«ç©º6**ï¼š`range(top, bottom+1)` â€” å‘ä¸‹éå†ï¼Œæ³¨æ„ top å·²ç»æ›´æ–°è¿‡äº†
- **å¡«ç©º7**ï¼š`right -= 1` â€” èµ°å®Œå³è¾¹ç•Œåå·¦ç§»
- **å¡«ç©º8**ï¼š`if top <= bottom` â€” é˜²æ­¢å•è¡Œé‡å¤éå†
- **å¡«ç©º9**ï¼š`range(right, left-1, -1)` â€” å‘å·¦éå†ï¼Œæ­¥é•¿ -1ï¼Œç»ˆç‚¹ left-1
- **å¡«ç©º10**ï¼š`bottom -= 1` â€” èµ°å®Œä¸‹è¾¹ç•Œåä¸Šç§»
- **å¡«ç©º11**ï¼š`if left <= right` â€” é˜²æ­¢å•åˆ—é‡å¤éå†
- **å¡«ç©º12**ï¼š`range(bottom, top-1, -1)` â€” å‘ä¸Šéå†ï¼Œæ­¥é•¿ -1ï¼Œç»ˆç‚¹ top-1

---

### C++ å®ç°

```cpp
#include <vector>
#include <iostream>
using namespace std;

class Solution {
public:
    vector<int> spiralOrder(vector<vector<int>>& matrix) {
        // è·å–çŸ©é˜µè¡Œæ•°å’Œåˆ—æ•°
        int m = matrix.size(), n = matrix[0].size();

        // åˆå§‹åŒ–å››ä¸ªè¾¹ç•Œ
        int top = 0, bottom = m - 1;
        int left = 0, right = n - 1;

        vector<int> result;
        result.reserve(m * n);  // é¢„åˆ†é…ç©ºé—´ï¼Œé¿å…å¤šæ¬¡æ‰©å®¹

        while (top <= bottom && left <= right) {
            // 1. å‘å³éå† top è¡Œ
            for (int col = left; col <= right; col++)
                result.push_back(matrix[top][col]);
            top++;

            // 2. å‘ä¸‹éå† right åˆ—
            for (int row = top; row <= bottom; row++)
                result.push_back(matrix[row][right]);
            right--;

            // 3. å‘å·¦éå† bottom è¡Œï¼ˆéœ€åˆ¤æ–­é˜²æ­¢å•è¡Œé‡å¤ï¼‰
            if (top <= bottom) {
                for (int col = right; col >= left; col--)
                    result.push_back(matrix[bottom][col]);
                bottom--;
            }

            // 4. å‘ä¸Šéå† left åˆ—ï¼ˆéœ€åˆ¤æ–­é˜²æ­¢å•åˆ—é‡å¤ï¼‰
            if (left <= right) {
                for (int row = bottom; row >= top; row--)
                    result.push_back(matrix[row][left]);
                left++;
            }
        }

        return result;
    }
};

// æµ‹è¯•ä»£ç 
int main() {
    Solution sol;

    // æµ‹è¯•ç”¨ä¾‹1ï¼š3x3 çŸ©é˜µ
    vector<vector<int>> matrix1 = {{1,2,3},{4,5,6},{7,8,9}};
    vector<int> res1 = sol.spiralOrder(matrix1);
    // æœŸæœ›ï¼š1 2 3 6 9 8 7 4 5
    for (int x : res1) cout << x << " ";
    cout << endl;

    // æµ‹è¯•ç”¨ä¾‹2ï¼š3x4 çŸ©é˜µ
    vector<vector<int>> matrix2 = {{1,2,3,4},{5,6,7,8},{9,10,11,12}};
    vector<int> res2 = sol.spiralOrder(matrix2);
    // æœŸæœ›ï¼š1 2 3 4 8 12 11 10 9 5 6 7
    for (int x : res2) cout << x << " ";
    cout << endl;

    return 0;
}
```

**ä¸ Python çš„ä¸»è¦å·®å¼‚**ï¼š
- **ç±»å‹å£°æ˜**ï¼šC++ éœ€è¦æ˜¾å¼å£°æ˜ `int m`, `vector<int> result` ç­‰ç±»å‹
- **size() æ–¹æ³•**ï¼šC++ ç”¨ `matrix.size()` å’Œ `matrix[0].size()` è·å–å°ºå¯¸ï¼Œè¿”å› `size_t` ç±»å‹
- **push_back**ï¼šC++ ç”¨ `result.push_back(val)` ä»£æ›¿ Python çš„ `result.append(val)`
- **reserve**ï¼šC++ å¯ä»¥ç”¨ `result.reserve(m*n)` é¢„åˆ†é…å†…å­˜ï¼Œæå‡æ€§èƒ½
- **for å¾ªç¯è¯­æ³•**ï¼šC++ çš„ for å¾ªç¯æ˜¯ä¸‰æ®µå¼ `for(init; cond; update)`ï¼ŒPython ç”¨ `range`
- **é€»è¾‘å®Œå…¨ä¸€è‡´**ï¼šä¸¤ç§è¯­è¨€çš„ç®—æ³•æ€è·¯ã€è¾¹ç•Œåˆ¤æ–­é€»è¾‘å®Œå…¨ç›¸åŒ

---

## âš ï¸ æ˜“é”™ç‚¹æé†’

### 1. è¾¹ç•Œæ¡ä»¶

**æ˜“é”™ç‚¹1ï¼šå‘å·¦/å‘ä¸Šéå†å‰å¿˜è®°åˆ¤æ–­è¾¹ç•Œ**

è¿™æ˜¯æœ¬é¢˜æœ€ç»å…¸çš„é”™è¯¯ã€‚å½“çŸ©é˜µåªæœ‰ä¸€è¡Œï¼ˆå¦‚ `[[1,2,3]]`ï¼‰æ—¶ï¼š
- å‘å³éå†å®Œ `[1,2,3]` åï¼Œ`top` å˜ä¸º 1
- æ­¤æ—¶ `top(1) > bottom(0)`ï¼Œå¦‚æœä¸åˆ¤æ–­ç›´æ¥å‘å·¦éå†ï¼Œä¼šé‡å¤æ”¶é›†å…ƒç´ 

**é”™è¯¯ä»£ç **ï¼š
```python
# é”™è¯¯ï¼šæ²¡æœ‰åˆ¤æ–­ top <= bottom
for col in range(right, left - 1, -1):
    result.append(matrix[bottom][col])  # ä¼šé‡å¤éå†ï¼
```

**æ­£ç¡®å¤„ç†**ï¼š
```python
# æ­£ç¡®ï¼šå…ˆåˆ¤æ–­è¾¹ç•Œæ˜¯å¦ä»ç„¶æœ‰æ•ˆ
if top <= bottom:
    for col in range(right, left - 1, -1):
        result.append(matrix[bottom][col])
```

**æ˜“é”™ç‚¹2ï¼šå•åˆ—çŸ©é˜µçš„å‘ä¸Šéå†**

ç±»ä¼¼åœ°ï¼Œå½“çŸ©é˜µåªæœ‰ä¸€åˆ—ï¼ˆå¦‚ `[[1],[2],[3]]`ï¼‰æ—¶ï¼Œå‘ä¸‹éå†å®Œåä¸åº”å†å‘ä¸Šéå†ï¼š
```python
# æ­£ç¡®ï¼šå‘ä¸Šéå†å‰åˆ¤æ–­ left <= right
if left <= right:
    for row in range(bottom, top - 1, -1):
        result.append(matrix[row][left])
```

---

### 2. å¸¸è§é”™è¯¯

**é”™è¯¯1ï¼šrange çš„ç»ˆç‚¹å¿˜è®° +1 æˆ– -1**
- **åŸå› **ï¼šPython çš„ `range(a, b)` ä¸åŒ…å« bï¼Œå‘å³éå†åˆ° `right` éœ€è¦å†™ `range(left, right+1)`
- **æ­£ç¡®åšæ³•**ï¼šå‘å³ `range(left, right+1)`ï¼Œå‘ä¸‹ `range(top, bottom+1)`ï¼Œå‘å·¦ `range(right, left-1, -1)`ï¼Œå‘ä¸Š `range(bottom, top-1, -1)`
- **å¡«ç©ºæ—¶æ³¨æ„**ï¼šæ¯ä¸ªæ–¹å‘çš„ç»ˆç‚¹éƒ½è¦ä»”ç»†æ£€æŸ¥æ˜¯å¦éœ€è¦ Â±1

**é”™è¯¯2ï¼šè¾¹ç•Œæ”¶ç¼©çš„é¡ºåºå†™é”™**
- **åŸå› **ï¼šå‘å³éå†å®Œååº”è¯¥æ”¶ç¼© `top`ï¼Œä½†æœ‰æ—¶ä¼šè¯¯å†™æˆæ”¶ç¼© `bottom`
- **è®°å¿†å£è¯€**ï¼šèµ°å®Œå“ªæ¡è¾¹ï¼Œå°±æ”¶ç¼©å“ªæ¡è¾¹
  - èµ°å®Œä¸Šè¾¹ï¼ˆå‘å³ï¼‰â†’ `top += 1`
  - èµ°å®Œå³è¾¹ï¼ˆå‘ä¸‹ï¼‰â†’ `right -= 1`
  - èµ°å®Œä¸‹è¾¹ï¼ˆå‘å·¦ï¼‰â†’ `bottom -= 1`
  - èµ°å®Œå·¦è¾¹ï¼ˆå‘ä¸Šï¼‰â†’ `left += 1`

**é”™è¯¯3ï¼šå‘ä¸‹éå†çš„èµ·ç‚¹ç”¨äº†æ—§çš„ top**
- **åŸå› **ï¼šå‘å³éå†å `top` å·²ç» +1ï¼Œå‘ä¸‹éå†çš„èµ·ç‚¹åº”è¯¥æ˜¯æ–°çš„ `top`ï¼Œè€Œä¸æ˜¯åŸæ¥çš„ `top`
- **æ­£ç¡®åšæ³•**ï¼šä»£ç ä¸­å…ˆæ‰§è¡Œ `top += 1`ï¼Œå†æ‰§è¡Œå‘ä¸‹çš„ `for row in range(top, bottom+1)`ï¼Œé¡ºåºä¸èƒ½é¢ å€’

**é”™è¯¯4ï¼šC++ ä¸­ size() è¿”å›æ— ç¬¦å·ç±»å‹å¯¼è‡´æ¯”è¾ƒé—®é¢˜**
- **åŸå› **ï¼š`matrix.size()` è¿”å› `size_t`ï¼ˆæ— ç¬¦å·æ•´æ•°ï¼‰ï¼Œä¸ `int` æ¯”è¾ƒå¯èƒ½æœ‰è­¦å‘Š
- **æ­£ç¡®åšæ³•**ï¼šç”¨ `int m = (int)matrix.size()` æ˜¾å¼è½¬æ¢ä¸ºæœ‰ç¬¦å·æ•´æ•°

---

### 3. è°ƒè¯•æŠ€å·§

- **æ‰“å°è¾¹ç•ŒçŠ¶æ€**ï¼šåœ¨æ¯æ¬¡å¾ªç¯å¼€å§‹æ—¶æ‰“å° `top, bottom, left, right`ï¼Œè§‚å¯Ÿè¾¹ç•Œæ˜¯å¦æŒ‰é¢„æœŸæ”¶ç¼©
- **ç”¨å°çŸ©é˜µéªŒè¯**ï¼šå…ˆç”¨ 1Ã—1ã€1Ã—3ã€3Ã—1ã€2Ã—2 ç­‰è¾¹ç•Œæƒ…å†µæ‰‹åŠ¨æ¨¡æ‹Ÿï¼Œç¡®è®¤é€»è¾‘æ­£ç¡®
- **ç»Ÿè®¡å…ƒç´ ä¸ªæ•°**ï¼šæœ€ç»ˆç»“æœçš„é•¿åº¦åº”è¯¥ç­‰äº `m * n`ï¼Œå¯ä»¥ç”¨ `assert len(result) == m * n` éªŒè¯
- **å¡«ç©ºéªŒè¯**ï¼šå®Œæˆå¡«ç©ºåï¼Œç”¨ç¤ºä¾‹1ï¼ˆ3Ã—3ï¼‰æ‰‹åŠ¨è¿½è¸ªæ¯ä¸€æ­¥ï¼Œå¯¹ç…§æœŸæœ›è¾“å‡º `[1,2,3,6,9,8,7,4,5]`

---

## ğŸ”— ç›¸ä¼¼é¢˜ç›®æ¨è

### åŒç±»å‹é¢˜ç›®

è¿™äº›é¢˜ç›®ä½¿ç”¨ç›¸åŒæˆ–ç›¸ä¼¼çš„çŸ©é˜µæ¨¡æ‹Ÿæ€è·¯ï¼š

1. **LeetCode 59 - èºæ—‹çŸ©é˜µ II** (Medium)
   - ç›¸ä¼¼ç‚¹ï¼šæœ¬é¢˜çš„"é€†æ“ä½œ"â€”â€”ä¸æ˜¯è¯»å–èºæ—‹é¡ºåºï¼Œè€Œæ˜¯æŒ‰èºæ—‹é¡ºåºå¡«å…¥æ•°å­— 1~nÂ²
   - å»ºè®®ï¼šæŒæ¡æœ¬é¢˜åç«‹åˆ»ç»ƒä¹ ï¼ŒåŠ æ·±å¯¹è¾¹ç•Œæ”¶ç¼©æ³•çš„ç†è§£
   - æ ¸å¿ƒå·®å¼‚ï¼šä»"è¯»çŸ©é˜µ"å˜æˆ"å†™çŸ©é˜µ"ï¼Œé€»è¾‘æ¡†æ¶å®Œå…¨ç›¸åŒ

2. **LeetCode 885 - èºæ—‹çŸ©é˜µ III** (Medium)
   - ç›¸ä¼¼ç‚¹ï¼šåŒæ ·æ˜¯èºæ—‹éå†ï¼Œä½†èµ·ç‚¹ä¸å›ºå®šï¼Œä¸”çŸ©é˜µå¯èƒ½å¾ˆå¤§
   - å»ºè®®ï¼šç”¨æ–¹å‘æ•°ç»„æ³•è§£å†³ï¼Œæ˜¯æœ¬é¢˜æ–¹æ³•ä¸€ï¼ˆæ–¹å‘æ•°ç»„ï¼‰çš„è¿›é˜¶ç‰ˆ

3. **LeetCode 48 - æ—‹è½¬å›¾åƒ** (Medium)
   - ç›¸ä¼¼ç‚¹ï¼šåŒæ ·æ˜¯å¯¹äºŒç»´çŸ©é˜µè¿›è¡ŒåŸåœ°æ“ä½œï¼Œéœ€è¦æ¸…æ™°åœ°ç†è§£çŸ©é˜µåæ ‡å˜æ¢
   - å»ºè®®ï¼šç»ƒä¹ çŸ©é˜µåæ ‡å˜æ¢çš„æ€ç»´æ–¹å¼

### è¿›é˜¶é¢˜ç›®

æŒæ¡æœ¬é¢˜åï¼Œå¯ä»¥æŒ‘æˆ˜è¿™äº›æ›´éš¾çš„é¢˜ç›®ï¼š

1. **LeetCode 289 - ç”Ÿå‘½æ¸¸æˆ** (Medium)
   - è¿›é˜¶ç‚¹ï¼šçŸ©é˜µåŸåœ°æ›´æ–°ï¼Œéœ€è¦åŒæ—¶è€ƒè™‘å½“å‰çŠ¶æ€å’Œä¸‹ä¸€çŠ¶æ€ï¼Œè¾¹ç•Œå¤„ç†æ›´å¤æ‚

2. **LeetCode 73 - çŸ©é˜µç½®é›¶** (Medium)
   - è¿›é˜¶ç‚¹ï¼šéœ€è¦åœ¨ä¸ä½¿ç”¨é¢å¤–ç©ºé—´çš„æƒ…å†µä¸‹æ ‡è®°å¹¶æ›´æ–°çŸ©é˜µï¼Œè€ƒéªŒå¯¹çŸ©é˜µè¾¹ç•Œçš„æŒæ§

### ç›¸å…³çŸ¥è¯†ç‚¹

æœ¬é¢˜æ¶‰åŠçš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼š

- **çŸ©é˜µæ¨¡æ‹Ÿ**ï¼šæŒ‰è§„åˆ™éå†äºŒç»´æ•°ç»„ï¼Œå…³é”®æ˜¯ç»´æŠ¤æ¸…æ™°çš„çŠ¶æ€å˜é‡
  - ç›¸å…³é¢˜ç›®ï¼šLeetCode 59ã€LeetCode 885
- **è¾¹ç•Œæ”¶ç¼©æŠ€å·§**ï¼šç”¨å››ä¸ªå˜é‡ä»£æ›¿ visited æ•°ç»„ï¼ŒO(1) ç©ºé—´å®ç°çŠ¶æ€è¿½è¸ª
  - ç›¸å…³é¢˜ç›®ï¼šLeetCode 59ã€LeetCode 48
- **æ–¹å‘æ•°ç»„æŠ€å·§**ï¼šç”¨ `directions = [(0,1),(1,0),(0,-1),(-1,0)]` ç»Ÿä¸€è¡¨ç¤ºå››ä¸ªæ–¹å‘
  - ç›¸å…³é¢˜ç›®ï¼šLeetCode 200ï¼ˆå²›å±¿æ•°é‡ï¼‰ã€LeetCode 994ï¼ˆè…çƒ‚çš„æ©˜å­ï¼‰

---

## ğŸ“š çŸ¥è¯†ç‚¹æ€»ç»“

### æ ¸å¿ƒç®—æ³•

æœ¬é¢˜ä½¿ç”¨**æ¨¡æ‹Ÿï¼ˆSimulationï¼‰**æ€æƒ³ï¼Œæ ¸å¿ƒæ˜¯**è¾¹ç•Œæ”¶ç¼©æ³•**ï¼š

ç”¨å››ä¸ªå˜é‡ `top, bottom, left, right` åŠ¨æ€ç»´æŠ¤"å°šæœªéå†çš„çŸ©å½¢åŒºåŸŸ"ï¼Œæ¯èµ°å®Œä¸€æ¡è¾¹å°±æ”¶ç¼©å¯¹åº”è¾¹ç•Œï¼Œç›´åˆ°åŒºåŸŸæ¶ˆå¤±ã€‚

### æ•°æ®ç»“æ„

- **äºŒç»´æ•°ç»„ï¼ˆçŸ©é˜µï¼‰**ï¼šé€šè¿‡è¡Œåˆ—ç´¢å¼• `matrix[row][col]` è®¿é—®å…ƒç´ 
- **ä¸€ç»´åˆ—è¡¨**ï¼šæ”¶é›†ç»“æœï¼ŒPython ç”¨ `list.append()`ï¼ŒC++ ç”¨ `vector.push_back()`

### è§£é¢˜æ¨¡æ¿

è¾¹ç•Œæ”¶ç¼©æ³•çš„é€šç”¨æ¨¡æ¿ï¼ˆå¯å¤ç”¨äºèºæ—‹çŸ©é˜µ II ç­‰é¢˜ç›®ï¼‰ï¼š

```python
# èºæ—‹éå†/å¡«å……é€šç”¨æ¨¡æ¿
def spiral_template(matrix):
    m, n = len(matrix), len(matrix[0])
    top, bottom, left, right = 0, m - 1, 0, n - 1
    result = []

    while top <= bottom and left <= right:
        # å‘å³
        for col in range(left, right + 1):
            # æ“ä½œ matrix[top][col]
            pass
        top += 1

        # å‘ä¸‹
        for row in range(top, bottom + 1):
            # æ“ä½œ matrix[row][right]
            pass
        right -= 1

        # å‘å·¦ï¼ˆéœ€åˆ¤æ–­ï¼‰
        if top <= bottom:
            for col in range(right, left - 1, -1):
                # æ“ä½œ matrix[bottom][col]
                pass
            bottom -= 1

        # å‘ä¸Šï¼ˆéœ€åˆ¤æ–­ï¼‰
        if left <= right:
            for row in range(bottom, top - 1, -1):
                # æ“ä½œ matrix[row][left]
                pass
            left += 1

    return result
```

### å­¦ä¹ è¦ç‚¹

1. **æ¨¡æ‹Ÿé¢˜çš„å…³é”®**ï¼šæ‰¾åˆ°æ¸…æ™°çš„çŠ¶æ€è¡¨ç¤ºæ–¹å¼ï¼Œæœ¬é¢˜ç”¨å››ä¸ªè¾¹ç•Œå˜é‡è¡¨ç¤º"å‰©ä½™æœªè®¿é—®åŒºåŸŸ"
2. **è¾¹ç•Œåˆ¤æ–­çš„å¿…è¦æ€§**ï¼šå‘å·¦å’Œå‘ä¸Šéå†å‰å¿…é¡»é¢å¤–åˆ¤æ–­ï¼Œè¿™æ˜¯å¤„ç†éæ­£æ–¹å½¢çŸ©é˜µçš„å…³é”®
3. **ä¸¤ç§è§£æ³•çš„æƒè¡¡**ï¼šæ–¹å‘æ•°ç»„æ³•ï¼ˆæš´åŠ›ï¼‰ä»£ç æ›´ç®€æ´ä½†ç©ºé—´ O(mÃ—n)ï¼›è¾¹ç•Œæ”¶ç¼©æ³•ç©ºé—´ O(1) ä½†éœ€è¦é¢å¤–çš„è¾¹ç•Œåˆ¤æ–­
4. **å¡«ç©ºç»ƒä¹ çš„ä»·å€¼**ï¼šé€šè¿‡å¡«ç©ºï¼Œä½ åº”è¯¥æŒæ¡äº†è¾¹ç•Œæ”¶ç¼©çš„å››ä¸ªæ–¹å‘é¡ºåºã€æ¯ä¸ªæ–¹å‘çš„ range å†™æ³•ã€ä»¥åŠä½•æ—¶éœ€è¦é¢å¤–çš„è¾¹ç•Œåˆ¤æ–­

---

## ğŸ“ è¡¥å……è¯´æ˜

### ä»å¡«ç©ºåˆ°å®Œæ•´å®ç°çš„è¿›é˜¶è·¯å¾„

1. **ç¬¬ä¸€é**ï¼šçœ‹ç®—æ³•æ­¥éª¤ï¼Œå°è¯•å¡«ç©ºï¼ˆé‡ç‚¹å…³æ³¨å¡«ç©º8/10ï¼Œç†è§£ä¸ºä»€ä¹ˆéœ€è¦é¢å¤–åˆ¤æ–­ï¼‰
2. **ç¬¬äºŒé**ï¼šå¯¹ç…§ç­”æ¡ˆï¼Œç†è§£æ¯ä¸ªå¡«ç©ºçš„åŸå› ï¼Œç‰¹åˆ«æ˜¯ `range` çš„ç»ˆç‚¹ä¸ºä»€ä¹ˆè¦ Â±1
3. **ç¬¬ä¸‰é**ï¼šä¸çœ‹æç¤ºï¼Œç‹¬ç«‹å®Œæ•´å®ç°ï¼Œç”¨5ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼ˆ3Ã—3ã€3Ã—4ã€å•è¡Œã€å•åˆ—ã€1Ã—1ï¼‰éªŒè¯
4. **ç¬¬å››é**ï¼šå°è¯•å®ç°æ–¹æ³•ä¸€ï¼ˆæ–¹å‘æ•°ç»„æ³•ï¼‰ï¼Œå¯¹æ¯”ä¸¤ç§æ–¹æ³•çš„ä»£ç é‡å’Œç©ºé—´ä½¿ç”¨

### æ—¶é—´å¤æ‚åº¦ä¼˜åŒ–å†ç¨‹

- æš´åŠ›è§£æ³•ï¼ˆæ–¹å‘æ•°ç»„ï¼‰ï¼šO(mÃ—n) æ—¶é—´ï¼ŒO(mÃ—n) ç©ºé—´ â†’ ç“¶é¢ˆï¼švisited æ•°ç»„å ç”¨é¢å¤–ç©ºé—´
- ä¼˜åŒ–è§£æ³•ï¼ˆè¾¹ç•Œæ”¶ç¼©ï¼‰ï¼šO(mÃ—n) æ—¶é—´ï¼ŒO(1) ç©ºé—´ â†’ ç”¨å››ä¸ªæ•´æ•°å˜é‡æ›¿ä»£ visited æ•°ç»„

### ç©ºé—´å¤æ‚åº¦æƒè¡¡

æœ¬é¢˜ä¸¤ç§æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ç›¸åŒï¼Œä¼˜åŒ–ä½“ç°åœ¨ç©ºé—´ä¸Šï¼š
- æ–¹å‘æ•°ç»„æ³•ï¼šç›´è§‚æ˜“æ‡‚ï¼Œé€‚åˆå¿«é€Ÿå®ç°
- è¾¹ç•Œæ”¶ç¼©æ³•ï¼šç©ºé—´æœ€ä¼˜ï¼Œæ˜¯é¢è¯•ä¸­æ›´æ¨èçš„å†™æ³•

### å®é™…åº”ç”¨åœºæ™¯

èºæ—‹çŸ©é˜µéå†åœ¨å®é™…å·¥ç¨‹ä¸­çš„åº”ç”¨ï¼š
- **å›¾åƒå¤„ç†**ï¼šä»å›¾åƒä¸­å¿ƒå‘å¤–èºæ—‹æ‰«æï¼Œç”¨äºæŸäº›ç‰¹æ•ˆç®—æ³•
- **æ‰“å°æœºæ§åˆ¶**ï¼šæŸäº›æ‰“å°è·¯å¾„ä¼˜åŒ–ç®—æ³•ä½¿ç”¨èºæ—‹éå†å‡å°‘æ‰“å°å¤´ç§»åŠ¨è·ç¦»
- **æ¸¸æˆå¼€å‘**ï¼šåœ°å›¾ç”Ÿæˆæ—¶æŒ‰èºæ—‹é¡ºåºå¡«å……åœ°å½¢æ•°æ®

